<Controls:MetroWindow x:Class="TwitchChatBotGUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
        Title="Quiz Bot" Height="363.5" Width="700" Loaded="Window_Loaded" Name="MainWindowName">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Icons.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Controls:MetroWindow.RightWindowCommands>
        <Controls:WindowCommands>
            <Button Click="ConnectClick" Visibility="{Binding ConnectedVisibility, Mode=OneWay}">
                <StackPanel Orientation="Horizontal">
                    <Rectangle Width="20" Height="20"
                   Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill"
                         Visual="{StaticResource appbar_connect}" />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <TextBlock Margin="4 0 0 0"
                   VerticalAlignment="Center"
                   Text="Connect Twitch" />
                </StackPanel>
            </Button>
            <Button Click="ConnectClick" Visibility="{Binding DisconnectedVisibility, Mode=OneWay}">
                <StackPanel Orientation="Horizontal">
                    <Rectangle Width="20" Height="20"
                   Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill"
                         Visual="{StaticResource appbar_disconnect}" />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <TextBlock Margin="4 0 0 0"
                   VerticalAlignment="Center"
                   Text="Connect Twitch" />
                </StackPanel>
            </Button>
            <Button Click="Authorize_Click">
                <StackPanel Orientation="Horizontal">
                    <Rectangle Width="20" Height="20"
                   Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}">
                        <Rectangle.OpacityMask>
                            <VisualBrush Stretch="Fill"
                         Visual="{StaticResource appbar_user}" />
                        </Rectangle.OpacityMask>
                    </Rectangle>
                    <TextBlock Margin="4 0 0 0"
                   VerticalAlignment="Center"                   
                   Text="Authorized as:" />
                    <TextBlock Margin="4 0 0 0"
                   VerticalAlignment="Center"             
                   Text="{Binding AuthorizedName, Mode=OneWay}" />
                </StackPanel>
            </Button>
            <Button Click="LogOutButtonClick">
                <TextBlock Margin="4 0 0 0"
                VerticalAlignment="Center"
                Text="Logout" />
            </Button>
        </Controls:WindowCommands>
    </Controls:MetroWindow.RightWindowCommands>
    <Grid Name="mainGrid">

        <Button Name="StartQuizButton"  Content="Start Quiz" IsEnabled="{Binding ConnectedAndAuthorized, Mode=OneWay}" HorizontalAlignment="Left" Margin="54,215,0,0" VerticalAlignment="Top" Width="76" Click="Button_Click"/>
        <Label Name="TimerLabel" Content="Quiz is not running" HorizontalAlignment="Left" Margin="36,175,0,0" VerticalAlignment="Top" Width="112" Height="30"/>
        
        <Menu IsMainMenu="True" HorizontalAlignment="Left" Height="auto" VerticalAlignment="Top" Width="Auto">    
            <MenuItem Header="Settings">
                <MenuItem Header="Network"  Click="OpenNetworkSettings"/>
                <MenuItem Header="Quiz"  Click="OpenQuizSettings"/>
                <MenuItem Header="Channel"  Click="OpenChannelSettings"/>
            </MenuItem>
        </Menu>

        <DockPanel  Margin="0,302,0,0" HorizontalAlignment="Stretch" LastChildFill="True">
            <Button DockPanel.Dock="Left" Name="TwitchChannel" IsEnabled="{Binding ConnectedAndAuthorized, Mode=OneWay}" Content="{Binding TwitchChannel, Mode=OneWay}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="75" Click="ChannelButtonClick"/>
            <Button DockPanel.Dock="Right" x:Name="SendButton" Content="Send" IsEnabled="{Binding ConnectedAndAuthorized, Mode=OneWay}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Width="67" Click="SendClick"/>
            <TextBox Name="MessageBox"  TextWrapping="Wrap" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="auto"/>
            
        </DockPanel>
     
    </Grid>

</Controls:MetroWindow>
